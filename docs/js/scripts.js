document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector(".burger")){const e=document.querySelector(".burger"),t=document.querySelector(".menu"),o=document.querySelector(".close_burger");e.addEventListener("click",(function(){t.style.top="111px",e.style.display="none",o.style.display="block"})),o.addEventListener("click",(function(){t.style.top="-110%",e.style.display="block",o.style.display="none"}))}function e(e){const t=e.querySelector("select"),o=e.querySelector(".custom-selected"),c=e.querySelector(".custom-options"),n=e.querySelector(".custom-select");c.hasChildNodes()||t.querySelectorAll("option").forEach((e=>{const l=document.createElement("div");l.classList.add("custom-option"),l.textContent=e.textContent,l.dataset.value=e.value,l.dataset.type=e.dataset.type??"",e.selected&&(o.textContent=e.textContent),l.addEventListener("click",(c=>{c.stopPropagation(),o.textContent=e.textContent,t.value=e.value,n.classList.remove("open"),t.dispatchEvent(new Event("change"))})),c.appendChild(l)})),e.querySelector(".custom-select").addEventListener("click",(()=>{e.querySelector(".custom-select").classList.toggle("open")})),document.addEventListener("click",(t=>{e.contains(t.target)||e.querySelector(".custom-select").classList.remove("open")}))}const t=document.getElementById("type-select"),o=document.getElementById("service-select");e(t),e(o);const c=t.querySelector("select"),n=o.querySelector("select"),l=o.querySelectorAll(".custom-option"),s=o.querySelector(".custom-selected");function r(e,t){const o=[...n.querySelectorAll("option")],c=document.querySelector(".services_form label");let r=null;if(o.forEach(((t,o)=>{const c=l[o];t.dataset.type===e?(t.hidden=!1,c&&(c.style.display="block"),r||(r={opt:t,relatedCustom:c})):(t.hidden=!0,c&&(c.style.display="none"))})),r){let e=r.opt;if(t){const c=o.find((e=>!e.hidden&&e.value===t));c&&(e=c)}n.value=e.value,s.textContent=e.textContent,l.forEach((e=>e.classList.remove("selected")));const a=[...l].find((t=>t.dataset.value===e.value));a&&a.classList.add("selected"),"Запис до лікаря"===e.dataset.type?c.textContent="Оберіть лікаря":"Медична довідка"===e.dataset.type&&(c.textContent="Оберіть тип довідки")}}c.addEventListener("change",(()=>{r(c.value)})),r(c.value),document.querySelectorAll(".doctors .cta").forEach((e=>{e.addEventListener("click",(l=>{l.preventDefault();const s=e.dataset.doctor,a=[...n.options].find((e=>e.value===s));c.value=a.dataset.type,t.querySelector(".custom-selected").textContent=a.dataset.type,r(a.dataset.type,a.value),document.querySelector("#form").scrollIntoView({behavior:"smooth",block:"center"}),o.querySelector(".custom-select").classList.remove("open")}))}))}));
const form=document.querySelector("form[action='sendorder.php']"),phoneInput=form.querySelector("input[name='userPhone']"),nameInput=form.querySelector("input[name='userName']"),errorTel=document.querySelector(".error"),errorName=document.querySelector(".errorName"),maxLength=30,minLength=3;function isValidPhoneNumber(e){return/^\+380\d{9}$/.test(e)}phoneInput.addEventListener("focus",(function(){phoneInput.value.startsWith("+380")||(phoneInput.value="+380")})),phoneInput.addEventListener("input",(function(){let e=phoneInput.value.replace(/[^\d+]/g,"");e.startsWith("+380")||(e="+380"+e.slice(3)),e.length>13&&(e=e.slice(0,13)),phoneInput.value=e;isValidPhoneNumber(e)?(phoneInput.style.borderColor="green",phoneInput.style.color="#121212",errorTel.style.display="none"):(phoneInput.style.borderColor="#EB4242",phoneInput.style.color="#EB4242",errorTel.style.display="block")})),form.addEventListener("submit",(e=>{const r=phoneInput.value.trim(),n=nameInput.value.trim();let o=!0;!r||!isValidPhoneNumber(r)||r.length<13?(errorTel.style.display="block",phoneInput.style.borderColor="#EB4242",o=!1):(errorTel.style.display="none",phoneInput.style.borderColor="green"),n.length<3||n.length>30?(errorName.style.display="block",nameInput.style.borderColor="#EB4242",o=!1):(errorName.style.display="none",nameInput.style.borderColor="green"),o||(console.log("+"),e.preventDefault())}));