document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector(".burger")){const d=document.querySelector(".burger"),u=document.querySelector(".menu"),i=document.querySelector(".close_burger"),y=u.querySelectorAll("a");function e(){u.style.top="-110%",d.style.display="block",i.style.display="none"}console.log(y),d.addEventListener("click",(function(){u.style.top="111px",d.style.display="none",i.style.display="block"})),i.addEventListener("click",e),y.forEach((t=>{t.addEventListener("click",(function(){e(),d.style.display="none"}))}))}function t(e){const t=e.querySelector("select"),o=e.querySelector(".custom-selected"),c=e.querySelector(".custom-options"),n=e.querySelector(".custom-select");c.hasChildNodes()||t.querySelectorAll("option").forEach((e=>{const l=document.createElement("div");l.classList.add("custom-option"),l.textContent=e.textContent,l.dataset.value=e.value,l.dataset.type=e.dataset.type??"",e.selected&&(o.textContent=e.textContent),l.addEventListener("click",(c=>{c.stopPropagation(),o.textContent=e.textContent,t.value=e.value,n.classList.remove("open"),t.dispatchEvent(new Event("change"))})),c.appendChild(l)})),e.querySelector(".custom-select").addEventListener("click",(()=>{e.querySelector(".custom-select").classList.toggle("open")})),document.addEventListener("click",(t=>{e.contains(t.target)||e.querySelector(".custom-select").classList.remove("open")}))}const o=document.getElementById("type-select"),c=document.getElementById("service-select");t(o),t(c);const n=o.querySelector("select"),l=c.querySelector("select"),s=c.querySelectorAll(".custom-option"),r=c.querySelector(".custom-selected");function a(e,t){const o=[...l.querySelectorAll("option")],c=document.querySelector(".services_form label");let n=null;if(o.forEach(((t,o)=>{const c=s[o];t.dataset.type===e?(t.hidden=!1,c&&(c.style.display="block"),n||(n={opt:t,relatedCustom:c})):(t.hidden=!0,c&&(c.style.display="none"))})),n){let e=n.opt;if(t){const c=o.find((e=>!e.hidden&&e.value===t));c&&(e=c)}l.value=e.value,r.textContent=e.textContent,s.forEach((e=>e.classList.remove("selected")));const a=[...s].find((t=>t.dataset.value===e.value));a&&a.classList.add("selected"),"Запис до лікаря"===e.dataset.type?c.textContent="Оберіть лікаря":"Медична довідка"===e.dataset.type&&(c.textContent="Оберіть тип довідки")}}n.addEventListener("change",(()=>{a(n.value)})),a(n.value),document.querySelectorAll(".doctors .cta").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const s=e.dataset.doctor,r=[...l.options].find((e=>e.value===s));n.value=r.dataset.type,o.querySelector(".custom-selected").textContent=r.dataset.type,a(r.dataset.type,r.value),document.querySelector("#form").scrollIntoView({behavior:"smooth",block:"center"}),c.querySelector(".custom-select").classList.remove("open")}))}))}));
const form=document.querySelector("form[action='sendorder.php']"),phoneInput=form.querySelector("input[name='userPhone']"),nameInput=form.querySelector("input[name='userName']"),errorTel=document.querySelector(".error"),errorName=document.querySelector(".errorName"),maxLength=30,minLength=3;function isValidPhoneNumber(e){return/^\+380\d{9}$/.test(e)}phoneInput.addEventListener("focus",(function(){phoneInput.value.startsWith("+380")||(phoneInput.value="+380")})),phoneInput.addEventListener("input",(function(){let e=phoneInput.value.replace(/[^\d+]/g,"");e.startsWith("+380")||(e="+380"+e.slice(3)),e.length>13&&(e=e.slice(0,13)),phoneInput.value=e;isValidPhoneNumber(e)?(phoneInput.style.borderColor="green",phoneInput.style.color="#121212",errorTel.style.display="none"):(phoneInput.style.borderColor="#EB4242",phoneInput.style.color="#EB4242",errorTel.style.display="block")})),form.addEventListener("submit",(e=>{const r=phoneInput.value.trim(),n=nameInput.value.trim();let o=!0;!r||!isValidPhoneNumber(r)||r.length<13?(errorTel.style.display="block",phoneInput.style.borderColor="#EB4242",o=!1):(errorTel.style.display="none",phoneInput.style.borderColor="green"),n.length<3||n.length>30?(errorName.style.display="block",nameInput.style.borderColor="#EB4242",o=!1):(errorName.style.display="none",nameInput.style.borderColor="green"),o||(console.log("+"),e.preventDefault())}));