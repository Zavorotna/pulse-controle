document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector(".burger")){const c=document.querySelector(".burger"),l=document.querySelector(".menu"),n=document.querySelector(".close_burger"),s=l.querySelectorAll("a");function e(){l.style.top="-110%",c.style.display="block",n.style.display="none"}console.log(s),c.addEventListener("click",(function(){l.style.top="111px",c.style.display="none",n.style.display="block"})),n.addEventListener("click",e),s.forEach((t=>{t.addEventListener("click",(function(){e(),c.style.display="none"}))}))}function t(e){const t=e.querySelector("select"),o=e.querySelector(".custom-selected"),c=e.querySelector(".custom-options"),l=e.querySelector(".custom-select");c.hasChildNodes()||t.querySelectorAll("option").forEach((e=>{const n=document.createElement("div");n.classList.add("custom-option"),n.textContent=e.textContent,n.dataset.value=e.value,n.dataset.type=e.dataset.type??"",e.selected&&(o.textContent=e.textContent),n.addEventListener("click",(c=>{c.stopPropagation(),o.textContent=e.textContent,t.value=e.value,l.classList.remove("open"),t.dispatchEvent(new Event("change"))})),c.appendChild(n)})),e.querySelector(".custom-select").addEventListener("click",(()=>{e.querySelector(".custom-select").classList.toggle("open")})),document.addEventListener("click",(t=>{e.contains(t.target)||e.querySelector(".custom-select").classList.remove("open")}))}if(document.querySelector("select")){const r=document.getElementById("type-select"),a=document.getElementById("service-select");t(r),t(a);const d=r.querySelector("select"),u=a.querySelector("select"),i=a.querySelectorAll(".custom-option"),y=a.querySelector(".custom-selected");function o(e,t){const o=[...u.querySelectorAll("option")],c=document.querySelector(".services_form label");let l=null;if(o.forEach(((t,o)=>{const c=i[o];t.dataset.type===e?(t.hidden=!1,c&&(c.style.display="block"),l||(l={opt:t,relatedCustom:c})):(t.hidden=!0,c&&(c.style.display="none"))})),l){let e=l.opt;if(t){const c=o.find((e=>!e.hidden&&e.value===t));c&&(e=c)}u.value=e.value,y.textContent=e.textContent,i.forEach((e=>e.classList.remove("selected")));const n=[...i].find((t=>t.dataset.value===e.value));n&&n.classList.add("selected"),"Запис до лікаря"===e.dataset.type?c.textContent="Оберіть лікаря":"Медична довідка"===e.dataset.type&&(c.textContent="Оберіть тип довідки")}}d.addEventListener("change",(()=>{o(d.value)})),o(d.value);const m=localStorage.getItem("selectedService");if(m){const v=[...u.querySelectorAll("option")].find((e=>e.value===m));v&&(d.value=v.dataset.type,r.querySelector(".custom-selected").textContent=v.dataset.type,o(v.dataset.type,v.value),document.querySelector("#form")?.scrollIntoView({behavior:"smooth",block:"center"}),localStorage.removeItem("selectedService"))}document.querySelectorAll(".doctors .cta").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const c=e.dataset.doctor,l=[...u.options].find((e=>e.value===c));d.value=l.dataset.type,r.querySelector(".custom-selected").textContent=l.dataset.type,o(l.dataset.type,l.value),document.querySelector("#form").scrollIntoView({behavior:"smooth",block:"center"}),a.querySelector(".custom-select").classList.remove("open")}))}))}if(document.querySelector(".page_cta[data-service]")){document.querySelectorAll(".page_cta[data-service]").forEach((e=>{e.addEventListener("click",(function(e){const t=this.getAttribute("data-service");t&&localStorage.setItem("selectedService",t)}))}))}}));
if(document.querySelector("form[action='sendorder.php']")){const e=document.querySelector("form[action='sendorder.php']"),r=e.querySelector("input[name='userPhone']"),t=e.querySelector("input[name='userName']"),o=document.querySelector(".error"),l=document.querySelector(".errorName"),n=30,s=3;function isValidPhoneNumber(e){return/^\+380\d{9}$/.test(e)}r.addEventListener("focus",(function(){r.value.startsWith("+380")||(r.value="+380")})),r.addEventListener("input",(function(){let e=r.value.replace(/[^\d+]/g,"");e.startsWith("+380")||(e="+380"+e.slice(3)),e.length>13&&(e=e.slice(0,13)),r.value=e;isValidPhoneNumber(e)?(r.style.borderColor="green",r.style.color="#121212",o.style.display="none"):(r.style.borderColor="#EB4242",r.style.color="#EB4242",o.style.display="block")})),e.addEventListener("submit",(e=>{const d=r.value.trim(),i=t.value.trim();let u=!0;!d||!isValidPhoneNumber(d)||d.length<13?(o.style.display="block",r.style.borderColor="#EB4242",u=!1):(o.style.display="none",r.style.borderColor="green"),i.length<s||i.length>n?(l.style.display="block",t.style.borderColor="#EB4242",u=!1):(l.style.display="none",t.style.borderColor="green"),u||(console.log("+"),e.preventDefault())}))}